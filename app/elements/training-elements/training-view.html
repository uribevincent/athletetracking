<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">

<dom-module id="training-view">
	<style is="custom-style">
	/*paper-header-panel {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: var(--paper-grey-200, #eee);;
    }
    paper-toolbar {
      background-color: var(--google-blue-500, #4285f4);
    }
    paper-toolbar .title {
      margin: 0 8px;
    }
    paper-scroll-header-panel .content {
      padding: 8px;
    }
    paper-icon-button {
      --paper-icon-button-ink-color: white;
    }*/
    .spacer {
      @apply(--layout-flex);
    }
	</style>
	<template>
		<paper-header-panel fixed>
			<paper-toolbar>
				<div class="spacer title">Carnet d'entra√Ænement</div>
				<paper-icon-button icon="event" on-tap="_goCalendar"></paper-icon-button>
				<paper-icon-button icon="book" on-tap="_goBook"></paper-icon-button>

			</paper-toolbar>

			<div class="content">
				<div>
					<paper-input  label="Date" value="{{date}}" type="month"></paper-input>
				</div>
				<iron-pages selected="{{selectedPage}}">
					<training-calendar trainings="[[trainings]]" date="{{date}}" editable="{{editable}}" on-add-training="_test"></training-calendar>
					<training-book trainings="[[trainings]]"  on-select-training="_selectResult"></training-book>
				</iron-pages>
			</div>
		</paper-header-panel>
	</template>

	<script>
		(function() {
			'use strict';
			Polymer({
				is: 'training-view',
				properties: {
					trainings: {
						notify: true
					},
			 		editable: {
			 			type: Boolean,
			 			notify: true
			 		},
			 		selectedPage: {
			 			type: Number,
			 			value: 0
			 		},
					date: {
						type: String,
						notify: true
					}
				},
				_test: function(e){
					this.push('trainings', e.detail.training);
				},
				_goBook: function(){
					this.selectedPage = 1;
				},
				_goCalendar: function(){
					this.selectedPage = 0;
				}
			});
		})();
	</script>
</dom-module>
